# GOO HAE YOU

<p align="center">
  <img src="https://i.postimg.cc/h4kyz9Y0/p1.png" width="600px"/><br/><br/><br/>
</p>

  [Goo Hae You 이동](https://www.goohaeyou.site/)
<br>
## 🎯 프로젝트 소개

구해유는 일상 속에서 발생되는 갑작스러운 도움 요청에 즉시 대응할 수 있는 단기 인력 매칭 플렛폼이다.

예를 들어 간단한 강아지 산책이나 짐 옮기기와 같이 소소한 일 부터 당일 알바까지, 누구나 쉽게 요청하고 바로 연결될 수 있는 스팟 채용 서비스를 제공을 목적으로 개발되었다.

## 🗓️ 진행 기간

1차 개발 24년 1월 15일 ~ 24년 2월 16일 (프로젝트 구상 및 기능 설계)

2차 개발 24년 2월 26일 ~ 24년 3월 29일 (고도화 및 기능 구현)

## 💡 주요 기능 소개

- 일반 / 소셜(Google) 로그인을 지원
- 지역, 직종 카테고리, 검색 및 정렬 기능을 사용하여 원하는 공고를 쉽게 검색 및 지원이 가능하다.
- 위치 기반의 정보를 이용하여 **주변 공고 찾기 기능**을 지원한다.
- 구인자와 구직자 매칭되면 **1:1 채팅** 기능으로 소통할 수 있다.
- **예약 수당 결제 및 정산 시스템**으로 빠르고 투명하게 지급 처리가 이루어진다.
- **웹 푸시 알림 기능** 을 통하여 **모바일 / 웹** 환경에서도 다양한 정보를 실시간으로 받을 수 있다.

## 🧰 Skils

- **Backend**

![Backend.png](attachment:f4abc74b-c9c6-4a1b-a39a-27cce793ee4f:Backend.png)

- **Fronted**

![Frontend.png](attachment:d66cb772-3109-4e03-9f26-2a993da4c32f:Frontend.png)

- **Infra**

![Infra.png](attachment:a428ab38-53ba-4412-bc87-873ef0e6f6e0:Infra.png)

## ⛑️ **Demo Video**

| ✏️  **공고에 지원하기 기능** | ✅ **지원서 승인 기능** |
|--------|--------|
| <img src="https://i.postimg.cc/MKJw68Zd/v1.gif" width="280px"> | <img src="https://i.postimg.cc/L5c8RqCT/v2.gif" width="280px"> |

| 📍 **공고 지도 기능** | 💸 **알바비 결제 기능** |
|--------|--------|
| <img src="https://i.postimg.cc/Y0KSBGyx/v3.gif" width="280px"> | <img src="https://i.postimg.cc/7YPkGn72/v4.gif" width="280px"> |

| 📧 **이메일 본인인증 기능**|
|--------|
| <img src="https://i.postimg.cc/GtcZDbBC/v5.gif" width="280px"> |


---

## 😘 직접 설계&구현 기능 정리

### 공고, 댓글, 추천, 공고 지원

사용자가 게시글을 등록하고 댓글 및 추천, 지원 등 어플리케이션의 기본적인 CRUD 기능을 구현

- 공고 데이터를 설계하고 사용했을 때 여러 문제가 발생하였다.
    - 문제 1. 모든 공고 데이터에 대한 목록을 만들거나, 정렬을 할 때, 공고 자체에 너무 많은 정보를 갖고 있어 메모리 사용향이 증가하는 문제
    - 문제 2. 공고 목록에서는 사용되는 정보는 단 몇 개의 정보만이 사용된다.
        - 해결 1. 문제 1과 2를 생각해서 공고 내부적으로 과감하게 객체 필드를 줄일 경우, 많은 공고 데이터를 모와 목록을 만들 때 사용되는 메모리를 줄일 수 있고, 불필요한(사용되지 않는) 정보가 없어지는 이점을 얻을 수 있다.
    - 문제 3. 상세 공고 조회 시, 내부적으로 연결된 다양한 데이터가 필요하다.
        - 해결 2. 해결 1의 내용을 적용했을 경우, 단일의 데이터를 조회할 경우 기존 설계와 다르게 다양한 정보를 갖고 있지 않기 때문에 표시할 방법이 사려진다.
            
            그래서 공고에 대한 객체를 외부에 노출되는 정보를 갖고 있는 객체와 내부적으로 필요한 정보를 갖는 객체로 분리하여 데이터 관리 하도록 설계
            
        
        이 처럼 JobPost와 JobPostDetail로 구분하여 관리하여 **성능 최적화**와 **도메인 책임 분리**, **확장성 향상** 이라는 이점을 얻을 수 있는 구조로 개선하였다.
        

### 알림 시스템

공고 작성, 댓글 작성, 공고 지원 등의 메인 기능이 동작되면 이용자에게 어떤 기능이 실행 되었는지 등 다양한 정보를 알리기 위해서 기능 구현

- 기술/설계 :
    
    Spring Event를 활용하여 메인 서비스 로직과 알림 서비스 로직을 분리
    
- 설계 포인트 :
    
    알림 같은 기능은 메인 서비스 로직이 아닌 서브 서비스 로직으로 판단하여 메인 서비스 로직과의 의존도를 낮추기 위해 설계하였다. 
    
    전반적으로 이벤트 발행 코드는 메인 서비스 로직이 끝나갈 때 동작을 하게 되고, 각각의 이벤트를 구독하고 있는 리스너에서 각 상황에 맞는 알림 객체에 발생 원인, 발생 결과라는 타입과 문자열 형태의 URL정보를 담아서 프론트에서 각 타입에 맞는 문구 출력과 URL로의 이동 로직 설계에서 편의성을 얻을 수 있었다.
    

### 자동 처리 시스템

작성된 공고에서 특정 일자 기준 이후로 지원을 차단을 하며, 완료된 공고 배치 작업 및 정산 지연 감지 배치 작업을 수행

- 기술/설계:
    
    Scheduler, Spring Batch, Event를 사용하여 특정 조건에 따라 자동화 설계
    
- 설계 포인트:
    - 공고 마감 처리
        
        스케줄링과 이벤트 기반의 데이터 처리를 통하여 공고 객체 내 `DeadLine` 속성에 따라 공고를 자동으로 비활성화하는 로직을 설계 했다. 이를 통하여 운영자의 수동 운영에 대한 부담을 줄일 수 있으며, 다양한 확장에 대해서 열어 둘 수 있게 되었다.
        
    - 배치 작업
        
        서비스 내 작성된 배치 작업은 스케줄러에 의해서 각각 자정과 6시간마다 동작하도록 설정 하였다. 또한 배치 작업들은 주기적으로 데이터를 탐색하고 처리해야 한다. 그렇기 때문에 다량의 데이터를 다룰 경우가 생기면 한 작업에서 대량의 데이터를 메모리에 적재 하거나 하나의 트랜잭션에서 오버플로우나 성능 저하가 생길 수 있을 것이라 생각하여 청크 기반 처리 방식을 사용하여 데이터를 10개 단위로 조작하도록 설계 하였다.
        

공고 마감, 정산 처리, 지연 감지 등 반복적이고 오류 가능성이 높은 로직들을 Scheduler와 Spring Batch로 자동화하였고, Event 기반 설계로 후처리를 모듈화하였습니다. 이로써 운영자의 수동 개입 없이도 데이터의 정합성과 업무 흐름을 안정적으로 유지할 수 있으며, 확장성 있는 서비스 구조를 갖추게 되었습니다.

### 1 : 1 채팅 시스템

작성자와 지원자 사이 추가적인 소통의 기능을 위해 구현

- 기술/설계:
    
    WebSocket과 Stomp를 사용하여 채팅 기능 설계
    
- 설계 포인트:
    
    1 : 1 채팅 기능을 구현하는데 있어서 여러 조건들이 있다. 조건들 중에서 가장 중요한 **양방향 통신**이 가능 해야 한다는 점과 **지속적으로 연결을 유지 하면서 오버헤드 최소화**가 되어야 하는 조건 등 다양한 측면에서 WebSockt이 여러 부분에 있어 만족이 되었다. 
    
    그리고 WebSocket 위에 Stomp 프로토콜을 도입하여, 구독(PUB/ SUB) 구조를 사용고, 사용자별 메세지를 분리 발송할 수 있도록 설계하여 1:1채팅 기능을 구현 하였다. 
    

### FCM (**Firebase Cloud Messaging)**

사용자가 서비스 브라우저를 닫거나 다른 앱을 이용하고 있어도 서비스에서 자신과 관련된 동작이 이루어질 경우 해당 정보를 실시간으로 전달하기 위해서 구현

- 기술/설계:
    
    Firebase에서 지원하는 **Firebase Cloud Messaging**을 사용하여 웹 푸시 기능 설계
    
- 설계 포인트:
    
    메인 서비스 로직에서 Spring Event를 사용하여 Notification 객체가 생성될 때 추가적으로 FCM 전송 로직을 추가적으로 실행하도록 설정을 하였다. 이는 알림 기능과 비슷한 개념을 갖고 있기 때문에 서브적인 서비스로 판단하였다.
